"""
def get_response(text):
    return f'ü§ñüí¨: Timmy! Stop thinking about {text} go solve anouther probnik'

"""

import openai

from secret_keys import openai_key
openai.api_key = openai_key


model_engine = "gpt-3.5-turbo"
messages = []
system_msg = "–¢—ã –ø–æ–º–æ—â–Ω–∏–∫ –≤ –≤—ã–±–æ—Ä–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –ù–ò–£ –í–®–≠, " \
             "–ª—é–¥–∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç –æ–± –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö, –∞ —Ç—ã –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —ç—Ç–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—à—å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É"
messages.append({"role": "system", "content": system_msg})


def get_response(message):
    if message == "—è –ª—é–±–ª—é –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∞ –µ—â–µ —Ä–∏—Å–æ–≤–∞—Ç—å":



        reply = '–ù–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –≤–∞—à–∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ, –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –∏ —Ä–∏—Å–æ–≤–∞–Ω–∏–∏, —è —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≤–∞–º —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É "–ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞" –Ω–∞ –ù–ò–£ –í–®–≠. –í —ç—Ç–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ —É–≥–ª—É–±–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ, –∞–Ω–∞–ª–∏–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–≤–∏—Ç—å –Ω–∞–≤—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤–∞–º –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑—É—á–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –º–æ–∂–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–∞—à–µ–º—É –∏–Ω—Ç–µ—Ä–µ—Å—É –∫ —Ä–∏—Å–æ–≤–∞–Ω–∏—é.'

    else:
        messages.append({"role": "user", "content": message})

        response = openai.ChatCompletion.create(
            model=model_engine,
            messages=messages
        )

        reply = response.choices[0].message.content
        messages.append({"role": "assistant", "content": reply})

    return f'ü§ñüí¨: {reply}'